<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8" name="viewport" content="width=device-width, initial-scale=1">
        <title>立命館の学年暦をスクレイピング - blog\hrgruri</title>
        <link href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.2/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-y3tfxAZXuh4HwSYylfB+J125MxIs6mR5FOHamPBG064zB+AFeWH94NdvaCBm8qnd" crossorigin="anonymous">
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.2/js/bootstrap.min.js" integrity="sha384-vZ2WRJMwsjRMW/8U7i6PWi6AlO1L79snBrmgiDpgIWJ82z8eA5lenwvxbMV1PAh7" crossorigin="anonymous"></script>
        <link rel="stylesheet" href="/css/style.css">
        <link rel="stylesheet" href="/css/article.css">
        <link rel="stylesheet" href="/css/tag.css">
        <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.4.0/styles/github.min.css">
        <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.4.0/highlight.min.js"></script>
        <script>hljs.initHighlightingOnLoad();</script>
                            <script>
              (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
              (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
              m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
              })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
              ga('create', 'UA-71610603-3', 'auto');
              ga('send', 'pageview');
            </script>
                <link href="/feed.atom" rel="alternate" title="atom" type="application/atom+xml">
    </head>
    <body style="background-color: white;">
        <div id="blog-header" style="background: #9EFFFF;">
            <div class="container">
                <h1 id="blog-title"><a href="/">blog\hrgruri</a></h1>
            </div>
        </div>
        <div class="container">
            <div class="row">
                <div id="blog-main" class="col-xs-12 col-md-8">
                        <div class="blog-article" style="background-color: #FFF1CF;">
        <h1 class="blog-article-title"><a href="/article/2016/06/ritsucal">立命館の学年暦をスクレイピング</a></h1>
        <div class="blog-article-meta">June 11, 2016</div>
        <div class="blog-article-contents">
                            <h1>ritsucal</h1>
<p>ritsucalは立命館大学･大学院の学年暦をスクレイピングするPHPのライブラリです. 前から作っていて<a href="https://github.com/hrgruri/ritsucal">GitHub</a>にあげていましたが,久しぶりに見るとREADME.mdに変な文字が混ざっていたので,いくつか修正して,そのついでに簡単な使い方を書きます.</p>
<h2>インストール</h2>
<p>インストールはcomposerからできます</p>
<pre><code class="language-sh">composer require hrgruri/ritsucal
</code></pre>
<h2>使い方</h2>
<pre><code class="language-php">&lt;?php
require 'vendor/autoload.php';
try {
    $client = new Hrgruri\Ritsucal\Client();
    $calenders = $client-&gt;getCalenders();
    var_dump($calenders);
} catch (\Hrgruri\Ritsucal\Exception\UrlException $e) {
    print "Error\n";
}
</code></pre>
<p>こんな感じでコードを書くと動きます. 得られるのは以下の学年暦.  </p>
<ol>
<li><p>2016年度　立命館大学　学年暦</p>
</li>
<li><p>2016年度　立命館大学大学院　学年暦 セメスター制
  （法学研究科、経済学研究科、経営学研究科、社会学研究科、文学研究科、国際関係研究科、政策科学研究科、応用人間科学研究科、言語教育情報研究科、公務研究科、スポーツ健康科学研究科、映像研究科、先端総合学術研究科）</p>
</li>
<li><p>2016年度　立命館大学大学院　学年暦 セメスター制
  （理工学研究科、情報理工学研究科、生命科学研究科、薬学研究科）</p>
</li>
<li><p>2016年度　立命館大学大学院　学年暦 セッション制
（テクノロジー・マネジメント研究科、経営管理研究科）</p>
</li>
<li><p>2016年度　立命館大学大学院　学年暦
  （法務研究科）</p>
</li>
</ol>
<p>var_dump()した結果の一部です</p>
<pre><code>array(5) {
  [0]=&gt;
  object(Hrgruri\Ritsucal\Calender)#66 (2) {
    ["title"]=&gt;
    string(40) "2016年度　立命館大学　学年暦"
    ["events"]=&gt;
    array(79) {
      [0]=&gt;
      object(Hrgruri\Ritsucal\Event)#111 (4) {
        ["year"]=&gt;
        int(2016)
        ["month"]=&gt;
        int(4)
        ["day"]=&gt;
        int(1)
        ["title"]=&gt;
        string(27) "前期セメスター開始"
      }
      [1]=&gt;
      object(Hrgruri\Ritsucal\Event)#65 (4) {
        ["year"]=&gt;
        int(2016)
        ["month"]=&gt;
        int(4)
        ["day"]=&gt;
        int(1)
        ["title"]=&gt;
        string(27) "オリエンテーション"
      }
</code></pre>
<p>デフォルトでは <a href="http://www.ritsumei.ac.jp/profile/info/calender/">http://www.ritsumei.ac.jp/profile/info/calender/</a> から情報を取ってきますが,</p>
<pre><code class="language-php">$calenders = $client-&gt;getCalenders('http://www.ritsumei.ac.jp/profile/info/calender/2016/');
</code></pre>
<p>などのようにすると別の年度の学年暦を取ってくることができます.</p>

                    </div>
                    <ul class="blog-article-tags">
                Tag:
                                    <li><a href="/tag/php/1">php</a></li>
                            </ul>
                                    <a href="https://twitter.com/share" class="twitter-share-button">Tweet</a> <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>
            </div>
    <ul class = "pager">
                            <li class = "newer_link"><a href = "/article/2016/06/121113">&larr; Newer</a></li>
                                    <li class = "older_link"><a href = "/article/2016/06/102235">Older &rarr;</a></li>
            </ul>
                </div>
                                                    <div id="blog-side"
                        class="col-xs-12 col-md-3 col-md-offset-1"
                        style="background-color: #91D0EF;"
                    >
                                                    <p><a href="/about">About</a></p>
<hr />
<p><a href="https://github.com/hrgruri" title="GitHub">GitHub</a>  </p>
<hr />
<p><a href="https://twitter.com/hrgruri" title="Twitter">Twitter</a></p>

                                            </div>
                            </div>
        </div>
    </body>
</html>
